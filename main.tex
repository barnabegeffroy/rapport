\documentclass[a4paper]{report}

%====================== PACKAGES ======================


\usepackage[french]{babel}

\usepackage{chngcntr}
\counterwithout{footnote}{chapter}

\usepackage{fontawesome}

\usepackage{xcolor}


\usepackage{authblk}
\usepackage{caption}
\usepackage{listings}
\lstset{basicstyle=\ttfamily,
  showstringspaces=false,
  commentstyle=\color{red},
  keywordstyle=\color{blue},
  numbers=left,
  stepnumber=1,
  showstringspaces=false,
  tabsize=1,
  breaklines=true,
  breakatwhitespace=false
}
\usepackage[utf8x]{inputenc}
\usepackage{float}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{url}
\usepackage{array}
\usepackage{tabularx}
\usepackage{setspace}
\usepackage{abstract}
\usepackage[T1]{fontenc}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
\usepackage{subfig}

\usepackage{footnotebackref}

%====================== INFORMATION ET REGLES ======================

\newcommand{\source}[1]{\caption*{\small{\textsc{Source:} {#1}}} }

\addto\captionsfrench{%
  \renewcommand\chaptername{Projet}}
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{1}

\hypersetup{
pdfauthor = {Barnabé Geffroy},
pdftitle = {Rapport de stage},
pdfsubject = {Rapport de stage},
pdfstartview={FitH}}

\usepackage{etoolbox}% http://ctan.org/pkg/etoolbox
\makeatletter
% \patchcmd{<cmd>}{<search>}{<replace>}{<success>}{<failure>}
% --- Patch \chapter
\patchcmd{\@makechapterhead}{50\p@}{\chapheadtopskip}{}{}% Space from top of page to CHAPTER X
\patchcmd{\@makechapterhead}{20\p@}{\chapheadsep}{}{}% Space between CHAPTER X and CHAPTER TITLE
\patchcmd{\@makechapterhead}{40\p@}{\chapheadbelowskip}{}{}% Space between CHAPTER TITLE and text
% --- Patch \chapter*
\patchcmd{\@makeschapterhead}{50\p@}{\chapheadtopskip}{}{}% Space from top of page to CHAPTER TITLE
\patchcmd{\@makeschapterhead}{40\p@}{\chapheadbelowskip}{}{}% SPace between CHAPTER TITLE and text
\makeatother
% Set new lengths
\newlength{\chapheadtopskip}\setlength{\chapheadtopskip}{-20pt}
\newlength{\chapheadsep}\setlength{\chapheadsep}{15pt}
\newlength{\chapheadbelowskip}\setlength{\chapheadbelowskip}{15pt}

%======================== DEBUT DU DOCUMENT ========================

\begin{document}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}


\input{./title.tex}



\tableofcontents
\thispagestyle{empty}
\setcounter{page}{0}


\renewcommand{\arraystretch}{1.5}


%====================== PARTIES ======================
\setlength{\parindent}{0em}
\setlength{\parskip}{0.7em}
~
\thispagestyle{empty}
\setcounter{page}{0}
\newpage

\input{./introduction.tex}

\input{./preliminaires.tex}

\input{./partie1.tex}
 
\input{./partie2.tex}

\input{./partie3.tex}

\input{./partie4.tex}

\input{./conclusion.tex}

\newpage
\pagenumbering{roman}
\input{annexes/annexes.tex}

\newpage

%récupérer les citation avec "/footnotemark"
\nocite{*}

\bibliographystyle{./IEEEtran-francais.bst}
\bibliography{bibliographie.bib}
\thispagestyle{empty}
\setcounter{page}{0}
\addcontentsline{toc}{chapter}{Bibliographie}

\end{document}